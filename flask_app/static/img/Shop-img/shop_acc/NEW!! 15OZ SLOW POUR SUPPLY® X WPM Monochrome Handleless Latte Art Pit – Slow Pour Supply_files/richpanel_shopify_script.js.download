(()=>{eval('function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nvar Richpanel = function () {\n  function getURLParameter(url, name) {\n    name = name.replace(/[\\[\\]]/g, \'\\\\$&\');\n    var regex = new RegExp(\'[?&]\' + name + \'(=([^&#]*)|&|#|$)\'),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return \'\';\n    return decodeURIComponent(results[2].replace(/\\+/g, \' \'));\n  }\n  /**\n   * \n   * @param {string[]} keywords \n   */\n\n\n  function getScriptSource(keywords) {\n    var scripts = document.getElementsByTagName("script");\n\n    var _loop = function _loop(i) {\n      var script = scripts[i];\n      var src = script.getAttribute(\'src\');\n\n      if (src && keywords.every(function (keyword) {\n        return src.includes(keyword);\n      })) {\n        return {\n          v: src\n        };\n      }\n    };\n\n    for (var i = 0; i < scripts.length; i++) {\n      var _ret = _loop(i);\n\n      if (_typeof(_ret) === "object") return _ret.v;\n    }\n  }\n\n  var scriptSource = getScriptSource([\'richpanel_shopify_script\', \'appClientId\']);\n  var isProd = "development" === \'production\';\n  var TRACKING_SCRIPT_URL = "https://cdn.richpanel.com/js/richpanel-root.js";\n  var PLUGIN_API_URL = "https://api.richpanel.com/v3/richpanel-shopify-connector";\n  var Richpanel = {\n    TRACKING_SCRIPT_URL: TRACKING_SCRIPT_URL,\n    PLUGIN_API_URL: PLUGIN_API_URL,\n    scriptSource: scriptSource,\n    appClientId: getURLParameter(scriptSource, \'appClientId\'),\n    tenantId: getURLParameter(scriptSource, \'tenantId\')\n  };\n  window.Richpanel = Richpanel;\n}();\n\nfunction initiateShopify(_tenantId, _appClientId, _url, jq) {\n  if (!window.Richpanel) {\n    window.Richpanel = {};\n  }\n\n  if (window.Richpanel.richpanelShopifyInitiated) {\n    console.log("Richpanel Shopify connection already initiated");\n    return;\n  }\n\n  window.Richpanel.richpanelShopifyInitiated = true;\n  _initiateMessenger = function _initiateMessenger(secret) {\n    var setupRichpanelMessengerConfiguration = function setupRichpanelMessengerConfiguration(properties) {\n      if (properties && properties.data) {\n        window.richpanelSettings = properties[\'data\'];\n      } else {\n        window.richpanelSettings = null;\n      }\n    }; // if (!secret) {\n    //     secret = window.localStorage.getItem("rp_customer_secret") ? window.localStorage.getItem("rp_customer_secret") : null;\n    // }\n\n\n    setupRichpanelMessengerConfiguration({\n      \'data\': secret\n    });\n    window.richpanel || (window.richpanel = []), window.richpanel.queue = [], window.richpanel.methods = ["track", "debug", "atr"], window.richpanel.skelet = function (e) {\n      return function () {\n        rp_a = Array.prototype.slice.call(arguments);\n        rp_a.unshift(e);\n        window.richpanel.queue.push(rp_a);\n      };\n    };\n\n    for (var i = 0; window.richpanel.methods.length > i; i++) {\n      var mthd = window.richpanel.methods[i];\n      window.richpanel[mthd] = window.richpanel.skelet(mthd);\n    }\n\n    window[\'appClientId\'] = window.Richpanel.appClientId;\n    loadScript(\'//cdn.jsdelivr.net/npm/rsvp@4/dist/rsvp.min.js\', function () {\n      loadScript(window.Richpanel.TRACKING_SCRIPT_URL, function () {}); // loadScript(\'//cdnjs.cloudflare.com/ajax/libs/basket.js/0.5.2/basket.min.js\', function () {\n      //     basket.clear();\n      //     // basket.require({ url: window.Richpanel.TRACKING_SCRIPT_URL });\n      // })\n    });\n  }, _location = function _location() {\n    return window.location;\n  };\n\n  _path = function _path() {\n    return window.location.pathname;\n  };\n\n  _href = function _href() {\n    return window.location.href;\n  };\n\n  _cookieData = function _cookieData(name) {\n    var pairs = document.cookie.split("; "),\n        count = pairs.length,\n        parts,\n        cookieObject = {};\n\n    while (count--) {\n      parts = pairs[count].split("=");\n      cookieObject[parts[0]] = parts[1];\n    }\n\n    return cookieObject;\n  };\n\n  _userProperties = function _userProperties() {\n    var props = {};\n\n    if (_cookiesObject[\'rp_email\']) {\n      props = {\n        email: _cookiesObject[\'rp_email\'],\n        uid: _cookiesObject[\'rp_email\']\n      };\n\n      if (_cookiesObject[\'rp_firstName\']) {\n        props.firstName = _cookiesObject[\'rp_firstName\'];\n      }\n\n      if (_cookiesObject[\'rp_lastName\']) {\n        props.lastName = _cookiesObject[\'rp_lastName\'];\n      }\n    }\n\n    if (props && props.email) {\n      return props;\n    }\n\n    return null;\n  };\n\n  _clearUserProperties = function _clearUserProperties() {\n    _createCookie("rp_email", \'\', 32554, null);\n\n    _createCookie("rp_firstName", \'\', 32554, null);\n\n    _createCookie("rp_lastName", \'\', 32554, null);\n\n    _createCookie("rp_customer_id", \'\', 32554, null);\n\n    return true;\n  };\n\n  var _sa;\n  /* shopify analytics */\n\n\n  _initiateSA = function _initiateSA() {\n    if (!_sa) _sa = window.ShopifyAnalytics;\n  };\n\n  var _s;\n\n  _initiateS = function _initiateS() {\n    if (!_s) _s = window.Shopify;\n  };\n  /* chekcing split */\n\n\n  _splitData = function _splitData(input) {\n    var splittedData = _path().match(input);\n\n    return splittedData ? splittedData[1] : null;\n  };\n\n  _createCookie = function _createCookie(name, value, expires, domain) {\n    expires = expires ? expires : 365 * 24 * 60 * 60 * 1000;\n    expires = new Date(expires + Date.now()).toUTCString();\n\n    try {\n      domain = domain ? \';domain=\' + domain : \'\';\n      document.cookie = name + "=" + value + ";expires=" + expires + ";path=/" + domain;\n    } catch (e) {\n      console.error(\'e\', e);\n    }\n  };\n\n  _uuidv4 = function _uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n      return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n    });\n  };\n\n  _get_domain = function _get_domain(url) {\n    return url.replace(\'http://\', \'\').replace(\'https://\', \'\').replace(\'www.\', \'\').split(/[/?#]/)[0];\n  };\n\n  _removeCartFromStorage = function _removeCartFromStorage() {\n    window.localStorage.removeItem(\'rp_cart\');\n  };\n\n  cartChanges = function cartChanges() {\n    jq.ajax({\n      url: "/cart.js",\n      type: "GET",\n      dataType: "json",\n      cache: 0\n    }).done(function (e) {\n      if (e.items !== 0) {\n        var cartUpdatedArray = [];\n\n        if (e.items && e.items.length) {\n          e.items.forEach(function (item) {\n            var vId = item.variant_id ? "" + item.variant_id : null;\n            cartUpdatedArray.push(returnItemObject(item.product_id, vId, item.quantity, item.price / 100, item.title, item.image));\n          });\n        }\n\n        sendCartDataV2(\'cart_updated\', cartUpdatedArray);\n      }\n    });\n  };\n\n  sendCartData = function sendCartData(event, productId, variantId, quantity, price) {\n    window.richpanel.track(event, {\n      id: "" + productId,\n      optionId: variantId,\n      quantity: quantity,\n      price: price\n    }, _userProperties(), Date.now());\n  };\n\n  returnItemObject = function returnItemObject(productId, variantId, quantity, price, name, image) {\n    return {\n      id: "" + productId,\n      optionId: "" + variantId,\n      quantity: quantity,\n      price: price,\n      name: name,\n      image_url: [image]\n    };\n  };\n\n  sendCartDataV2 = function sendCartDataV2(event, items) {\n    window.richpanel.track(event, {\n      items: items\n    }, _userProperties(), Date.now());\n  };\n\n  runRpTracker = function runRpTracker() {\n    /* calling functions */\n    richpanelShopify.viewCustomerInfo();\n    richpanelShopify.cartAjaxChanges();\n    richpanelShopify.viewHomePage();\n    richpanelShopify.viewBlogPage();\n    richpanelShopify.viewCart();\n    richpanelShopify.viewSearchPage();\n    richpanelShopify.viewProduct();\n    richpanelShopify.viewCategory();\n    richpanelShopify.viewPage();\n    richpanelShopify.viewThankYouPage();\n  };\n\n  richpanelShopify = {\n    viewCustomerInfo: function viewCustomerInfo() {},\n\n    /* view home page */\n    viewHomePage: function viewHomePage() {\n      if (_path() === "/") {\n        // console.log(\'view home page \')\n        var properties = {\n          name: window.document.title,\n          url: _href()\n        };\n        window.richpanel.track(\'page_view\', properties, _userProperties(), Date.now());\n      }\n    },\n\n    /* view cart event */\n    viewCart: function viewCart() {\n      if (_path().match("/cart")) {\n        /* need to implement function */\n        // console.log(\'view cart page\')\n\n        /* call cart changes */\n        cartChanges();\n        window.richpanel.track(\'view_cart\', {}, _userProperties(), Date.now());\n      }\n    },\n\n    /* view custom page */\n    viewPage: function viewPage() {\n      var page = _splitData(/\\/pages\\/([a-z0-9_-]+)$/);\n\n      if (page) {\n        // console.log(\'view page event \', page, _href())\n        var properties = {};\n        window.richpanel.track(\'page_view\', properties, _userProperties(), Date.now());\n      } else if (_path().match("/account")) {\n        window.richpanel.track(\'page_view\', properties, _userProperties(), Date.now());\n      }\n    },\n\n    /* view blog page */\n    viewBlogPage: function viewBlogPage() {\n      var page = _splitData(/\\/blogs\\/([a-z0-9/_-]+)/);\n\n      if (page) {\n        // console.log(\'view blog page \', page, _href())\n        var properties = {\n          name: window.document.title,\n          url: _href()\n        };\n\n        if (_sa && _sa.meta && _sa.meta.page) {\n          properties.id = "" + _sa.meta.page.resourceId;\n        }\n\n        window.richpanel.track(\'view_article\', properties, _userProperties(), Date.now());\n      }\n    },\n\n    /* view category page page */\n    viewCategory: function viewCategory() {\n      var page = _splitData(/collections\\/([a-z0-9_-]+)$/);\n\n      if (page) {\n        if (page !== \'all\') {\n          var cId = _sa && _sa.meta && _sa.meta.page ? _sa.meta.page.resourceId : undefined; // console.log(\'view category page \', page, _href(), cId)\n\n          var properties = {\n            name: window.document.title,\n            url: _href()\n          };\n\n          if (cId) {\n            properties.id = "" + cId;\n          }\n\n          window.richpanel.track(\'view_category\', properties, _userProperties(), Date.now());\n        } else {// console.log(\'view category page with all categories \', page, _href(), cId)\n        }\n      }\n    },\n\n    /* view search page */\n    viewSearchPage: function viewSearchPage() {\n      if (_path() === "/search") {\n        var page = _location().search.replace(/\\?q=/, "").replace(/\\+/g, " ");\n\n        page = decodeURIComponent(page);\n\n        if (page !== "") {\n          // console.log(\'view search page \', page, _href(), )\n          var properties = {\n            name: window.document.title,\n            url: _href(),\n            query: page\n          };\n          window.richpanel.track(\'view_search\', properties, _userProperties(), Date.now());\n        }\n      }\n    },\n    viewProduct: function viewProduct() {\n      var page = _splitData(/\\/products\\/([a-z0-9_-]+)/);\n\n      if (page && _sa && _sa.meta && _sa.meta.page) {\n        var pId = _sa.meta.page.resourceId;\n        var selectedVariantId = _sa.meta.selectedVariantId;\n        var vId = new URLSearchParams(_location().search).get(\'variant\');\n        var price = null;\n        var name = null;\n        var sku = null;\n\n        if (_sa.meta && _sa.meta.product && _sa.meta.product.variants && _sa.meta.product.variants.length) {\n          if (selectedVariantId) {\n            _sa.meta.product.variants.forEach(function (ele) {\n              if (ele.id == selectedVariantId) {\n                vId = ele.id;\n                price = ele.price / 100;\n                sku = ele.sku;\n                name = ele.name;\n              }\n            });\n          } else {\n            vId = _sa.meta.product.variants[0].id;\n            price = _sa.meta.product.variants[0].price / 100;\n            sku = _sa.meta.product.variants[0].sku;\n            name = _sa.meta.product.variants[0].name;\n          }\n        } // console.log(\'view product \', page, pId, vId, _href())\n\n\n        var properties = {\n          // name: window.document.title,\n          url: _href(),\n          // id: vId,\n          id: "" + pId\n        };\n\n        if (price !== null) {\n          properties.price = price;\n        }\n\n        if (vId != null) {\n          properties.optionId = vId ? "" + vId : "";\n        }\n\n        if (sku !== null) {\n          properties.sku = sku;\n        }\n\n        if (name !== null) {\n          properties.name = name;\n        }\n\n        window.richpanel.track(\'view_product\', properties, _userProperties(), Date.now());\n      }\n    },\n    viewThankYouPage: function viewThankYouPage() {\n      if (_path().match("/thank_you")) {\n        var checkoutToken = _location().pathname.match(".*/(.*)/thank_you")[1];\n\n        var orderId = Shopify.checkout.order_id;\n\n        if (orderId) {\n          jq.ajax({\n            url: _url + "/fe-getOrderInfo?appClientId=" + _appClientId + "&tenantId=" + _tenantId + "&orderId=" + orderId,\n            type: "GET",\n            dataType: "json",\n            contentType: "application/json"\n          }).done(function (data) {\n            var orderData = data.data;\n            var order = orderData.order;\n            var properties = {\n              orderId: order.order_number,\n              orderDbKey: Shopify.checkout.order_id,\n              items: order.line_items.map(function (_ref) {\n                var product_id = _ref.product_id,\n                    variant_id = _ref.variant_id,\n                    name = _ref.name,\n                    price = _ref.price,\n                    quantity = _ref.quantity;\n                return {\n                  id: product_id,\n                  optionId: variant_id,\n                  name: name,\n                  price: price || 0,\n                  quantity: quantity || 0\n                };\n              }),\n              amount: order.total_price || 0,\n              taxAmount: order.total_tax || 0,\n              discountAmount: order.total_discounts || 0,\n              paymentMethod: order.gateway\n            };\n            window.richpanel.track(\'order\', properties, _userProperties(), Date.now());\n          }).fail(function () {\n            console.log(\'Not able to fetch order details to track\');\n          });\n        } else {\n          var properties = {\n            name: window.document.title,\n            url: _href()\n          };\n          window.richpanel.track(\'page_view\', properties, _userProperties(), Date.now());\n        }\n\n        _removeCartFromStorage();\n      }\n    },\n\n    /* view cart event */\n    cartAjaxChanges: function cartAjaxChanges() {\n      jq(window.document).ajaxSuccess(function (_e, _t, _r) {\n        _r.url.match(/\\/cart\\/(add|update|change).js/) && cartChanges();\n      });\n    }\n  };\n  /* intiating shopify analytics */\n\n  _initiateSA();\n\n  _initiateS();\n  /* initiated cookies */\n\n\n  _cookiesObject = _cookieData();\n\n  if (!_cookiesObject["rp_customer_id"]) {\n    var expires = 365 * 24 * 60 * 60 * 1000;\n\n    if (_cookiesObject["customer_id"]) {\n      // document.cookie = "rp_customer_id=" + _cookiesObject["customer_id"] + ";" + expires\n      _createCookie("rp_customer_id", _cookiesObject["customer_id"], null);\n    } else if (_cookiesObject["rp_customer_id"] === null || _cookiesObject["rp_customer_id"] === undefined) {\n      // document.cookie = "rp_customer_id=" + \'\' + ";" + expires\n      _createCookie("rp_customer_id", \'\', null);\n    }\n    /* initiated cookies */\n\n\n    _cookiesObject = _cookieData();\n  }\n\n  var cId = _sa && _sa.meta && _sa.meta.page ? _sa.meta.page.customerId : undefined;\n  var oCId = _cookiesObject["rp_customer_id"]; // console.log(\'original and old customer\', cId, oCId)\n  // if (cId && cId !== null && cId != _cookiesObject["rp_customer_id"]) {\n\n  if (cId && cId !== null) {\n    /* initiating again */\n    _cookiesObject = _cookieData();\n    jq.ajax({\n      url: _url + "/fe-getCustomerInfo?appClientId=" + _appClientId + "&tenantId=" + _tenantId + "&customerId=" + cId,\n      type: "GET",\n      dataType: "json",\n      contentType: "application/json"\n    }).done(function (data) {\n      _createCookie("rp_customer_id", cId, null);\n\n      if (data && data.error === false && data.data && data.data.uid) {\n        if (data.data.email) {\n          _createCookie("rp_email", data.data.email, null);\n        }\n\n        if (data.data.firstName) {\n          // document.cookie = "rp_firstName=" + data.data.firstName + ";" + expires + ""\n          _createCookie("rp_firstName", data.data.firstName, null);\n        }\n\n        if (data.data.lastName) {\n          // document.cookie = "rp_lastName=" + data.data.lastName + ";" + expires + ""\n          _createCookie("rp_lastName", data.data.lastName, null);\n        }\n\n        if (data.data.secret) {\n          window.localStorage.setItem(\'rp_customer_secret\', data.data.secret);\n        }\n        /* initiating again */\n\n      }\n\n      _cookiesObject = _cookieData();\n      var secretValue = data.data.secret ? data.data.secret : null;\n\n      if (!secretValue) {\n        _clearUserProperties();\n      }\n\n      _initiateMessenger(secretValue);\n\n      runRpTracker();\n    }).fail(function () {\n      _clearUserProperties();\n\n      _initiateMessenger(null);\n\n      runRpTracker();\n    });\n  } // else if (!_cookiesObject["rp_email"] && _cookiesObject["rp_customer_id"]) {\n  //     jq.ajax({\n  //         url: _url + "/fe-getCustomerInfo?appClientId=" + _appClientId + "&tenantId=" + _tenantId + "&customerId=" + _cookiesObject["rp_customer_id"],\n  //         type: "GET",\n  //         dataType: "json",\n  //         contentType: "application/json",\n  //     }).done(function(data) {\n  //         if (data && data.error === false && data.data && data.data.uid) {\n  //             if (data.data.email) {\n  //                 _createCookie("rp_email", data.data.email, null)\n  //             }\n  //             if (data.data.firstName) {\n  //                 // document.cookie = "rp_firstName=" + data.data.firstName + ";" + expires + ""\n  //                 _createCookie("rp_firstName", data.data.firstName, null)\n  //             }\n  //             if (data.data.lastName) {\n  //                 // document.cookie = "rp_lastName=" + data.data.lastName + ";" + expires + ""\n  //                 _createCookie("rp_lastName", data.data.lastName, null)\n  //             }\n  //             if (data.data.secret) {\n  //                 window.localStorage.setItem(\'rp_customer_secret\', data.data.secret)\n  //             }\n  //             /* initiating again */\n  //             _cookiesObject = _cookieData()\n  //         }\n  //         _initiateMessenger(window.localStorage.getItem("rp_customer_secret") ? window.localStorage.getItem("rp_customer_secret") : null)\n  //         runRpTracker()\n  //     }).fail(function() {\n  //         _initiateMessenger(null)\n  //         runRpTracker()\n  //     })\n  // }\n  else if (_s["checkout"] && _s["checkout"]["customer_id"]) {\n      jq.ajax({\n        url: _url + "/fe-getCustomerInfo?appClientId=" + _appClientId + "&tenantId=" + _tenantId + "&customerId=" + _s["checkout"]["customer_id"],\n        type: "GET",\n        dataType: "json",\n        contentType: "application/json"\n      }).done(function (data) {\n        if (data && data.error === false && data.data && data.data.uid) {\n          _createCookie("rp_customer_id", _s["checkout"]["customer_id"], null);\n\n          if (!_cookiesObject["rp_email"] || data.data.email !== _cookiesObject["rp_email"]) {\n            var expires = 365 * 24 * 60 * 60 * 1000; // document.cookie = "rp_email=" + data.data.email + ";" + expires + ""\n\n            _createCookie("rpdid", _uuidv4(), 32554, _get_domain(document.location.hostname));\n\n            _createCookie("rpsid", _uuidv4(), 32554, _get_domain(document.location.hostname));\n\n            if (data.data.email) {\n              _createCookie("rp_email", data.data.email, null);\n            }\n\n            if (data.data.firstName) {\n              // document.cookie = "rp_firstName=" + data.data.firstName + ";" + expires + ""\n              _createCookie("rp_firstName", data.data.firstName, null);\n            }\n\n            if (data.data.lastName) {\n              // document.cookie = "rp_lastName=" + data.data.lastName + ";" + expires + ""\n              _createCookie("rp_lastName", data.data.lastName, null);\n            }\n\n            if (data.data.secret) {\n              window.localStorage.setItem(\'rp_customer_secret\', data.data.secret);\n            }\n            /* initiating again */\n\n\n            _cookiesObject = _cookieData();\n          }\n        }\n\n        var secretValue = data.data.secret ? data.data.secret : null;\n\n        if (!secretValue) {\n          _clearUserProperties();\n        }\n\n        _initiateMessenger(secretValue);\n\n        runRpTracker();\n      }).fail(function () {\n        _clearUserProperties();\n\n        _initiateMessenger(null);\n\n        runRpTracker();\n      });\n    } else {\n      // if (_cookiesObject["rp_customer_id"] && _cookiesObject["rp_email"] && !window.localStorage.removeItem(\'rp_customer_secret\')) {\n      //     jq.ajax({\n      //         url: _url + "/fe-getCustomerInfo?appClientId=" + _appClientId + "&tenantId=" + _tenantId + "&customerId=" + _cookiesObject["rp_customer_id"],\n      //         type: "GET",\n      //         dataType: "json",\n      //         contentType: "application/json",\n      //     }).done(function(data) {\n      //         if (data && data.error === false && data.data && data.data.uid) {\n      //             var expires = 365 * 24 * 60 * 60 * 1000\n      //             if (data.data.email) {\n      //                 _createCookie("rp_email", data.data.email, null)\n      //             }\n      //             if (data.data.firstName) {\n      //                 // document.cookie = "rp_firstName=" + data.data.firstName + ";" + expires + ""\n      //                 _createCookie("rp_firstName", data.data.firstName, null)\n      //             }\n      //             if (data.data.lastName) {\n      //                 // document.cookie = "rp_lastName=" + data.data.lastName + ";" + expires + ""\n      //                 _createCookie("rp_lastName", data.data.lastName, null)\n      //             }\n      //             if (data.data.secret) {\n      //                 window.localStorage.setItem(\'rp_customer_secret\', data.data.secret)\n      //             }\n      //             /* initiating again */\n      //             _cookiesObject = _cookieData()\n      //         }\n      //         _initiateMessenger(window.localStorage.getItem("rp_customer_secret") ? window.localStorage.getItem("rp_customer_secret") : null)\n      //         runRpTracker()\n      //     }).fail(function() {\n      //         _initiateMessenger(null)\n      //         runRpTracker()\n      //     })\n      // } else {\n      if (!cId) {\n        window.localStorage.removeItem(\'rp_customer_secret\');\n\n        if (oCId) {\n          _createCookie("rpdid", _uuidv4(), 32554, _get_domain(document.location.hostname));\n\n          _createCookie("rpsid", _uuidv4(), 32554, _get_domain(document.location.hostname));\n        }\n      }\n      /* initializing messenger */\n\n\n      _clearUserProperties();\n\n      _initiateMessenger(null);\n\n      runRpTracker(); // }\n    }\n}\n\nfunction loadScript(url, callback) {\n  var script = document.createElement("script");\n  script.type = "text/javascript";\n\n  if (script.readyState) {\n    script.onreadystatechange = function () {\n      if (script.readyState == "loaded" || script.readyState == "complete") {\n        script.onreadystatechange = null;\n        callback();\n      }\n    };\n  } else {\n    //Others\n    script.onload = function () {\n      callback();\n    };\n\n    script.onerror = function (e) {\n      if (url.includes(\'rsvp.min.js\')) {\n        console.log("error", e);\n        callback();\n      }\n    };\n  }\n\n  script.src = url;\n  document.getElementsByTagName("head")[0].appendChild(script);\n}\n\nif (typeof jQuery === \'undefined\' || parseFloat(jQuery.fn.jquery) < 1.7) {\n  loadScript(\'//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\', function () {\n    var RPJQuery = jQuery.noConflict(true);\n    initiateShopify(window.Richpanel.tenantId, window.Richpanel.appClientId, window.Richpanel.PLUGIN_API_URL, RPJQuery);\n  });\n} else {\n  initiateShopify(window.Richpanel.tenantId, window.Richpanel.appClientId, window.Richpanel.PLUGIN_API_URL, jQuery);\n}\n\n//# sourceURL=webpack://cdn-shopify-script/./src/index.js?')})();