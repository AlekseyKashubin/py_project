var it=Object.defineProperty;var at=(t,e,n)=>e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>(at(t,typeof e!="symbol"?e+"":e,n),n);import{a as lt,c as Me,B as ct,H as dt,S as ut,g as je,b as pt,d as _t,i as Z,e as we,f as y,h as C,o as l,j as h,k as d,t as k,n as q,p as ye,l as Ce,m as v,q as A,w as M,r as G,s as w,T as ht,u as ft,v as Se,x as D,y as i,F as I,z as Q,A as te,C as He,D as ne,E as oe,G as pe,I as mt,J as ge,K as gt,L as vt,M as bt,N as Re,O as kt,P as T,Q as wt,R as _e,U as yt,V as Ct,W as St,X as Pt,Y as Lt,Z as xt}from"./vendor.2f193058.js";function Pe(t,e=null){var n;return(n=new URLSearchParams(window.location.search).get(t))!=null?n:e}function he(){return!!Pe("recharge")}function Fe(){const t=Pe("rcTemplate","");if(["radio","checkbox","button_group","radio_group"].includes(t))return t}function $t(){try{return JSON.parse(Pe("rcWidgetSettings","{}"))}catch{return{}}}function X(t,...e){console.warn(`[Recharge] ${t}`,...e)}function le(t,...e){console.error(`[Recharge] ${t}`,...e)}function W(t,...e){he()&&console.info(`%c[Recharge Debug] ${t}:`,"color: #fffbf6; background: #3901f1;",...e)}const ue=class{constructor(){V(this,"name",ue.id)}setupOnce(){lt(e=>{if(be().getIntegration(ue)){if(!window.navigator&&!window.location&&!window.document)return e;const n=e.request&&e.request.url||window.location&&window.location.href,{referrer:o}=window.document||{},{userAgent:r}=window.navigator||{},s={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},c={...n&&{url:n},headers:s};return{...e,request:c}}return e})}};let ie=ue;V(ie,"id","UserAgent");function Vt(t,e){const{errorHandler:n,warnHandler:o}=t.config;t.config.errorHandler=(r,s,c)=>{const p=Me.formatComponentName(s,!1),a=s?Me.generateComponentTrace(s):"",_={componentName:p,lifecycleHook:c,trace:a};s&&e.attachProps&&(_.propsData=s.$props),setTimeout(()=>{be().withScope(m=>{m.setContext("vue",_),be().captureException(r)})}),typeof n=="function"&&n.call(t,r,s,c);const u=typeof console<"u",f=`Error in ${c}: "${r&&r.toString()}"`;o?o.call(null,f,s,a):u&&console.error(`[Vue warn]: ${f}${a}`)}}function Ze(t){Vt(t,{logErrors:!0})}const Mt="production",It={release:"b42b650ed39b4a226a6e883766486cf4a1e72561",dsn:"https://80daabe83e364dacad4ad41c48140d4c@o58632.ingest.sentry.io/6107212",environment:Mt},Tt=new ct({integrations:[new ie],autoSessionTracking:!1,...It}),E=new dt(Tt);function be(){return E}function Et(t,e){var o;E.configureScope(function(r){r.setTag("shop",t)}),e&&(Array.isArray(e)?e:[e]).forEach(Ze),((o=E.getScope())==null?void 0:o.getSession())||jt()}function Ot(t,e={}){typeof t=="string"?(le(t),E.captureException(new Error(t),{captureContext:{contexts:e}})):(le(`${t}`),E.captureException(t,{captureContext:{contexts:e}}))}function ce(t,e={}){E.captureMessage(t,ut.Info,{captureContext:{contexts:e}})}function jt(){E.startSession({ignoreDuration:!0}),E.captureSession()}function Ie(t,e){E.setTag(t,e)}function Ht(t,e){E.setContext(t,e)}async function Rt(t){const[e,n,o]=await Promise.all([je(t,{version:"2022-06"}),pt(),_t()]);return{product:e,store_settings:n,widget_settings:o}}var b=(t=>(t.Onetime="onetime",t.Subscription="subscription",t))(b||{});function We(){const t="notarealkey";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function Ft(t){if(!!We())return localStorage.getItem(t)}function re(t,e){!We()||(e?localStorage.setItem(t,typeof e=="object"?JSON.stringify(e):String(e)):localStorage.removeItem(t))}class Zt{constructor(){V(this,"listeners",{})}addEventListener(e,n){var o;return e in this.listeners||(this.listeners[e]=[]),(o=this.listeners[e])==null||o.push(n),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var o,r;e in this.listeners&&(this.listeners[e]=(o=this.listeners[e])==null?void 0:o.filter(s=>s!==n),((r=this.listeners[e])==null?void 0:r.length)===0&&delete this.listeners[e])}dispatchEvent(e,...n){var o;e in this.listeners&&((o=this.listeners[e])==null||o.forEach(r=>r.call(this,...n)))}}const x=new Zt;function Ne(t,e){x.addEventListener(`${t}:sellingPlan:change`,e)}function Be(t,e){x.addEventListener(`${t}:variant:change`,e)}function Wt(t,e){x.dispatchEvent(`${t}:sellingPlan:change`,e)}function Nt(t,e){x.dispatchEvent(`${t}:variant:change`,e)}function Bt(t,e){x.dispatchEvent(`${t}:purchaseOption:change`,e)}var H=(t=>(t.Pending="PENDING",t.Complete="COMPLETE",t.Error="ERROR",t))(H||{});function Ut(t){const e=document.documentElement;e.style.setProperty("--rc-text-color",t.font_color),e.style.setProperty("--rc-details-icon-color",t.widget_icon),e.style.setProperty("--rc-active-background-color",t.background_color),e.style.setProperty("--rc-active-text-color",t.active_color),e.style.setProperty("--rc-popup-link-color",t.popup_link_color),e.style.setProperty("--rc-popup-text-color",t.popup_text_color),e.style.setProperty("--rc-popup-background-color",t.popup_background_color)}function Dt(t,e){var n,o;return(o=(n=t.variants)==null?void 0:n.find(r=>r.id===e))!=null?o:t.variants[0]}function ve(t){const e=Ft(t);return e?JSON.parse(e):""}function At(t,e){return t.sort_order>e.sort_order?1:t.sort_order<e.sort_order?-1:0}function Ue(t){return t.plans.filter(e=>["prepaid","subscription","membership_subscription"].includes(e.type))}function qt(t,e){var o;const n={};for(const r of t){n[r.external_variant_id]=[];for(const s of e){if(!s.has_variant_restrictions){n[r.external_variant_id].push(s);continue}(o=s.external_variant_ids)!=null&&o.some(c=>String(c)===String(r.external_variant_id))&&n[r.external_variant_id].push(s)}}return n}function Gt(t,e){return!e||Z(t.variantLevelPlans)?t.plans:t.variantLevelPlans[e]}function Kt(t,e){const n=t.variants.map(s=>({id:Number(s.external_variant_id),...s})),o=Ue(t).filter(s=>s.external_plan_id).sort(At),r=qt(n,o);return{external_product_id:Number(t.external_product_id),hasPrepaidPlan:t.plans.some(s=>s.type==="prepaid"),hasOnetimePlan:t.plans.some(s=>s.type==="onetime"),plans:o,variants:n,formattedVariantPrices:e,variantLevelPlans:r}}function Te(t,e){return Kt(t,e)}const De=Symbol();function O(){return we(De)}const Ae=Symbol();function R(){return we(Ae)}const zt=Symbol(),qe=Symbol();function ee(){return we(qe)}function fe(){const t=ee();return y({get:()=>t.selectedPurchaseOption,set:e=>t.selectedPurchaseOption=e})}function Le(){const t=R(),e=O();return y(()=>{const n=[];t.hasOnetimePlan&&n.push(b.Onetime);const o=e.is_subscription_first?"unshift":"push";return n[o](b.Subscription),n})}function Ge(){var s,c;const t=ee(),e=R(),n=e.formattedVariantPrices[t.selectedVariant.id],o=(s=t.selectedSellingPlan)!=null?s:e.plans[0].external_plan_id,r=(c=n.formattedSellingPlanPrices[o])!=null?c:n.formattedSellingPlanPrices[Object.keys(n.formattedSellingPlanPrices)[0]];return{variantUnitPrice:n.unit,unitPrice:r==null?void 0:r.unit,discountedPrice:r==null?void 0:r.discounted,adjustmentType:r==null?void 0:r.discountType,adjustmentValue:r==null?void 0:r.discountValue}}function xe(){return y(()=>{const t=Ge();return{variantUnitPrice:t.variantUnitPrice,unitPrice:t.unitPrice,discountedPrice:t.discountedPrice}})}function Jt(){return y(()=>{const t=Ge();if(!!t.adjustmentValue)switch(t.adjustmentType){case"percentage":return`${t.adjustmentValue}%`;default:return t.adjustmentValue}})}function me(){const t=Jt(),e=O();return y(()=>[t.value?e.subscribe_message:e.subscribe_without_discount_message,t.value].filter(Boolean).join(" "))}function Ke(){const t=R(),e=ee();return y(()=>Gt(t,e.selectedVariant.id))}const Qt=t=>(ye("data-v-da4af2b5"),t=t(),Ce(),t),Yt={class:"published-status"},Xt=Qt(()=>d("span",{class:"published-status__label"},"Your widget status is:",-1)),en=C({props:{isPublished:null},setup(t){const e=t;return(n,o)=>(l(),h("div",Yt,[Xt,d("div",{class:q(["published-status__pill",{published:t.isPublished}])},k(e.isPublished?"Published":"Unpublished"),3)]))}});const S=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},tn=S(en,[["__scopeId","data-v-da4af2b5"]]),ze=t=>(ye("data-v-15bec132"),t=t(),Ce(),t),nn={key:0,class:"rc-modal-container"},on=ze(()=>d("div",{id:"rc-modal--overlay",class:"rc-modal--overlay"},null,-1)),rn={id:"rc-modal",class:"rc-modal"},sn={id:"rc-modal--content",class:"rc-modal__content","aria-modal":"true","aria-labelledby":"rc-modal--header","aria-describedby":"rc-modal--body",tabindex:"-1"},an={id:"rc-modal--header",class:"rc-modal__header"},ln=ze(()=>d("svg",{width:"14",height:"14",viewBox:"0 0 14 14",focusable:"false",fill:"none","aria-hidden":"true"},[d("path",{d:"M1 1L13 13",stroke:"#022034","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),d("path",{d:"M1 13L13 1",stroke:"#022034","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),cn=[ln],dn={id:"rc-modal--body",class:"rc-modal__body"},un={class:"rc-modal__footer"},pn=C({props:{isOpen:null,confirmBtnText:null,cancelBtnText:null,hideCancelBtn:null},emits:["onConfirm","onClose"],setup(t){const e=t;return(n,o)=>(l(),v(ft,{to:"body"},[A(ht,{name:"slideIn",duration:175},{default:M(()=>[e.isOpen?(l(),h("div",nn,[on,d("div",rn,[d("section",sn,[d("header",an,[G(n.$slots,"header",{},void 0,!0)]),d("button",{class:"rc-modal__close-btn","aria-label":"Close",onClick:o[0]||(o[0]=r=>n.$emit("onClose"))},cn),d("div",dn,[G(n.$slots,"body",{},void 0,!0)]),d("footer",un,[t.hideCancelBtn?w("",!0):(l(),h("button",{key:0,type:"button",class:"rc-modal__cancel-btn rc-modal__btn",onClick:o[1]||(o[1]=r=>n.$emit("onClose"))},k(e.cancelBtnText||"Cancel"),1)),d("button",{type:"button",class:"rc-modal__confirm-btn rc-modal__btn",onClick:o[2]||(o[2]=r=>n.$emit("onConfirm"))},k(e.confirmBtnText||"Confirm"),1)])])])])):w("",!0)]),_:3})]))}});const _n=S(pn,[["__scopeId","data-v-15bec132"]]),hn={},fn={width:"207",height:"156",viewBox:"0 0 207 156",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"success-icon"},mn=Se('<path fill-rule="evenodd" clip-rule="evenodd" d="M25.724 60.6145C32.6592 47.2594 46.023 39.9376 57.349 30.0772C69.7937 19.2428 78.8338 1.74017 95.2067 0.122428C111.757 -1.51288 124.34 13.6277 138.708 22.0385C154.818 31.4691 178.825 34.302 184.248 52.2455C189.693 70.2615 171.343 86.1867 163.227 103.166C156.584 117.063 153.117 132.826 141.134 142.443C128.949 152.221 113.083 156.796 97.5301 155.887C82.6578 155.017 70.9555 144.831 57.9247 137.576C42.9204 129.222 22.3348 126.219 15.6812 110.317C9.00113 94.3511 17.7461 75.9776 25.724 60.6145Z" fill="#ECFBFF"></path><path d="M6.70337 53.118V60.9151" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.7593 57.0165L2.99994 57.0165" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M167.77 15.0306V22.8278" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M171.826 18.9292L164.066 18.9292" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M91.9498 11.0132V23.4887" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M98.4398 17.2509L86.0249 17.2509" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M106.5 136V145.475" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M111.429 140.738L102 140.738" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><ellipse cx="10.6389" cy="90.4255" rx="3.87967" ry="3.89859" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></ellipse><ellipse cx="185.017" cy="55.7963" rx="3.87967" ry="3.89859" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></ellipse><circle cx="45" cy="23" r="3" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></circle><ellipse cx="129.477" cy="13.3523" rx="2.3278" ry="2.33915" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></ellipse><ellipse cx="59.3278" cy="142.339" rx="2.3278" ry="2.33915" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></ellipse><circle cx="144.5" cy="141.5" r="3.5" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></circle><rect x="26" y="35" width="143" height="92" rx="4" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M26 39C26 36.7909 27.7909 35 30 35H165C167.209 35 169 36.7909 169 39V47H26V39Z" fill="currentColor" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="38" y="59" width="54" height="33" rx="4" fill="currentColor" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M38 103H90" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M38 114H90" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="103" y="92" width="38" height="11" rx="4" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></rect><path d="M103 81H125" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M103 70H128" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M103 59H137" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M103 114H137" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M179.795 101.788C182.57 97.6214 184.188 92.6113 184.188 87.2213C184.188 72.7397 172.505 61 158.094 61C143.683 61 132 72.7397 132 87.2213C132 101.703 143.683 113.443 158.094 113.443C164.077 113.443 169.59 111.419 173.992 108.016C173.998 108.023 174.005 108.03 174.012 108.037L196.71 130.735C198.374 132.399 201.071 132.399 202.735 130.735C204.399 129.071 204.399 126.374 202.735 124.71L180.037 102.012C179.958 101.934 179.878 101.859 179.795 101.788Z" fill="currentColor"></path><path d="M179.795 101.788L177.714 100.402L176.487 102.244L178.167 103.685L179.795 101.788ZM173.992 108.016L175.771 106.26L174.215 104.683L172.462 106.038L173.992 108.016ZM174.012 108.037L175.78 106.269V106.269L174.012 108.037ZM196.71 130.735L194.942 132.503H194.942L196.71 130.735ZM202.735 124.71L200.967 126.478H200.967L202.735 124.71ZM180.037 102.012L181.805 100.245V100.245L180.037 102.012ZM181.688 87.2213C181.688 92.1037 180.224 96.6338 177.714 100.402L181.875 103.174C184.916 98.6089 186.688 93.1188 186.688 87.2213H181.688ZM158.094 63.5C171.113 63.5 181.688 74.1089 181.688 87.2213H186.688C186.688 71.3704 173.898 58.5 158.094 58.5V63.5ZM134.5 87.2213C134.5 74.1089 145.075 63.5 158.094 63.5V58.5C142.291 58.5 129.5 71.3704 129.5 87.2213H134.5ZM158.094 110.943C145.075 110.943 134.5 100.334 134.5 87.2213H129.5C129.5 103.072 142.291 115.943 158.094 115.943V110.943ZM172.462 106.038C168.482 109.115 163.503 110.943 158.094 110.943V115.943C164.651 115.943 170.697 113.723 175.521 109.994L172.462 106.038ZM175.78 106.269C175.778 106.267 175.775 106.264 175.771 106.26L172.212 109.772C172.222 109.782 172.233 109.793 172.245 109.805L175.78 106.269ZM198.478 128.967L175.78 106.269L172.245 109.805L194.942 132.503L198.478 128.967ZM200.967 128.967C200.28 129.654 199.165 129.654 198.478 128.967L194.942 132.503C197.582 135.143 201.863 135.143 204.503 132.503L200.967 128.967ZM200.967 126.478C201.654 127.165 201.655 128.28 200.967 128.967L204.503 132.503C207.143 129.863 207.143 125.582 204.503 122.942L200.967 126.478ZM178.269 103.78L200.967 126.478L204.503 122.942L181.805 100.245L178.269 103.78ZM178.167 103.685C178.202 103.715 178.236 103.747 178.269 103.78L181.805 100.245C181.681 100.121 181.553 100.003 181.422 99.89L178.167 103.685Z" fill="#022034"></path><circle cx="158" cy="87" r="17" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></circle><path d="M59 74L46 92H72L59 74Z" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M76.5 81L69 92H84L76.5 81Z" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="73" cy="71" r="4" fill="#ECFBFF" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></circle>',31),gn=[mn];function vn(t,e){return l(),h("svg",fn,gn)}const bn=S(hn,[["render",vn]]),kn={},wn={width:"245",height:"163",viewBox:"0 0 245 163",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"failure-icon"},yn=Se('<path fill-rule="evenodd" clip-rule="evenodd" d="M88.3281 23.4842C102.007 13.8547 115.702 -1.65342 131.817 1.00138C148.044 3.67466 149.767 26.6801 163.022 35.7894C178.597 46.4928 210.356 39.3162 214.351 57.7216C218.346 76.128 185.28 84.1213 177.364 101.868C169.382 119.762 185.555 145.689 169.706 157.806C154.434 169.479 133.113 154.998 115.413 149.225C102.043 144.863 91.6376 136.597 80.2853 128.637C67.6825 119.8 50.3083 114.731 45.5016 100.205C40.5929 85.371 47.8497 68.7223 55.7663 54.5403C63.1754 41.2675 75.7251 32.3567 88.3281 23.4842Z" fill="#FDBE7F"></path><rect x="52" y="41" width="143" height="92" rx="4" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="transparent"></rect><path d="M124 65L96 115.909H152L124 65Z" fill="#FB8309" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="124" cy="105" r="2" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></circle><path d="M124 82V96" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M52 45C52 42.7908 53.7909 41 56 41H191C193.209 41 195 42.7908 195 45V53H52V45Z" fill="#FB8309" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M210.538 87H242.321" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M210 71.0381L220 61.0381" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M226.321 55L229.321 52" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M210 102L220 112" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M226.321 118.038L229.321 121.038" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M34.7826 86.0381L2.99998 86.0381" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M35.321 102L25.321 112" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.0001 118.038L16.0001 121.038" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M35.321 71.0381L25.321 61.0381" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M19.0001 55L16.0001 52" stroke="#022034" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>',16),Cn=[yn];function Sn(t,e){return l(),h("svg",wn,Cn)}const Pn=S(kn,[["render",Sn]]),Ln={class:"rc-preview-modal__title"},xn={class:"rc-preview-modal__explanation"},$n={key:0},Vn=d("p",null,"There was an error displaying the subscription widget on this page.",-1),Mn=d("p",null,[Q(" Please contact "),d("a",{href:"https://support.rechargepayments.com/hc/en-us/requests/new",target:"_blank"},"Recharge Support"),Q(". ")],-1),In=C({setup(t){const e=ee(),n=O(),o=D(!0),r=()=>o.value=!1,s=y(()=>e.bootstrapState===H.Complete),c=y(()=>s.value?"You're in preview mode!":"Uh oh!");return(p,a)=>(l(),v(_n,{"is-open":o.value,"confirm-btn-text":"Got it!","hide-cancel-btn":!0,onOnConfirm:r,onOnClose:r},{header:M(()=>[d("div",{class:q(["rc-preview-modal__image",{warning:!i(s)}])},[i(s)?(l(),v(bn,{key:0})):(l(),v(Pn,{key:1}))],2),d("h1",Ln,k(i(c)),1)]),body:M(()=>[d("div",xn,[i(s)?(l(),h("span",$n," Shoppers will only see your subscription options if you've published your widget. ")):(l(),h(I,{key:1},[Vn,Mn],64))]),i(n).published!==void 0?(l(),v(tn,{key:0,"is-published":i(n).published},null,8,["is-published"])):w("",!0)]),_:1},8,["is-open"]))}});function Tn(t,e){return{[t!=null?t:654]:{unit:"$5.00",discounted:"4",formattedSellingPlanPrices:{[e!=null?e:123]:{unit:"$5.50",discounted:"$4.50",discountType:"percentage",discountValue:50}}}}}function En(){return[{id:123,title:"2 month subscription with 20% discount",type:"subscription",discount_amount:"20.00",discount_type:"percentage",external_plan_id:123,external_plan_group_id:456,external_plan_name:"2 month subscription with 20% discount",sort_order:1,charge_interval_frequency:2,order_interval_frequency:2,interval_unit:"month",external_variant_ids:null,apply_custom_date_to_checkout:!1,has_variant_restrictions:!1,pricing_progression:[]},{id:456,title:"3 month subscription with 30% discount",type:"subscription",discount_amount:"20.00",discount_type:"percentage",external_plan_id:456,external_plan_group_id:789,external_plan_name:"3 month subscription with 30% discount",sort_order:2,charge_interval_frequency:3,order_interval_frequency:3,interval_unit:"month",external_variant_ids:null,has_variant_restrictions:!1,apply_custom_date_to_checkout:!1,pricing_progression:[]},{id:789,title:"Potion",type:"onetime",discount_amount:null,discount_type:null,external_plan_id:789,external_plan_group_id:null,external_plan_name:"onetime plan",sort_order:3,charge_interval_frequency:null,order_interval_frequency:null,interval_unit:null,external_variant_ids:null,has_variant_restrictions:!1,apply_custom_date_to_checkout:!1,pricing_progression:[]}]}const On={},jn={role:"alert",class:"mock-notification"},Hn=d("span",{class:"mock-notification__icon"},[d("svg",{viewBox:"0 0 24 24",focusable:"false",class:"warning-icon"},[d("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})])],-1),Rn=Q(" This product does not have any Subscription Plans in Recharge yet. While editing the theme, a mocked widget is shown instead. "),Fn=[Hn,Rn];function Zn(t,e){return l(),h("div",jn,Fn)}const Wn=S(On,[["render",Zn]]),Nn=C({props:{productId:null,mock:null,initialState:null,formattedVariantPrices:null},setup(t){var f;const e=t;let n=te({selectedSellingPlan:(f=e.initialState)==null?void 0:f.sellingPlanId,bootstrapState:H.Pending}),o=te({}),r=te({}),s=te({}),c=D(!1);function p(m){const P=Dt(s,m);n.selectedVariant=P}function a(m){X("Product ($productId}) not found."),ce("Product CDN record not found",{inputs:{productId:m}})}He(async()=>{var P,F;const m=$t();Object.assign(o,{...ve("rcWidgetSettings"),...m}),Object.assign(r,ve("rcStoreSettings")),Object.assign(s,ve(`rcProduct${e.productId}`)),Z(s)||p((P=e.initialState)==null?void 0:P.variantId);try{const g=await Rt(e.productId);if(x.dispatchEvent("widgetSettings:fetched",g.widget_settings),x.dispatchEvent("storeSettings:fetched",g.store_settings),x.dispatchEvent(`product:${e.productId}:fetched`,g.product),g.widget_settings){const j={...g.widget_settings,...m};Object.assign(o,j)}if(g.store_settings&&Object.assign(r,g.store_settings),g.product){g.product.plans.some($=>$.type!=="onetime"&&!$.external_plan_id)&&ce("Product plan record has no external_plan_id",{inputs:{productId:g.product.external_product_id}});const j=Boolean(e.mock&&!Ue(g.product).length);c.value=j;const J={...g.product,...j&&{plans:En()}},L={...e.formattedVariantPrices,...j&&Tn(J.variants[0].external_variant_id,J.plans[0].external_plan_id)},B=Te(J,L);Object.assign(s,B),p((F=e.initialState)==null?void 0:F.variantId)}else Object.keys(s).forEach(j=>delete s[j]),a(e.productId);n.selectedPurchaseOption=!s.hasOnetimePlan||n.selectedSellingPlan||o.select_subscription_first?b.Subscription:b.Onetime,re("rcStoreSettings",r),re("rcWidgetSettings",o),re(`rcProduct${e.productId}`,s),s.plans.length===0?n.bootstrapState=H.Error:!Z(s)&&!Z(o)&&!Z(r)?n.bootstrapState=H.Complete:n.bootstrapState=H.Error}catch(g){n.bootstrapState=H.Error,console.error(g)}}),ne(async()=>{if(Z(s)||s.external_product_id===e.productId)return;const m=await je(e.productId,{version:"2022-06"});if(m){const P=Te(m,e.formattedVariantPrices);re(`rcProduct${e.productId}`,P),Object.assign(s,P),p(s.variants[0].id)}else a(e.productId)}),Be(e.productId,m=>{Z(s)||p(m)}),ne(()=>Ut(o)),ne(()=>Wt(e.productId,n.selectedSellingPlan)),ne(()=>Bt(e.productId,n.selectedPurchaseOption)),oe(qe,n),oe(De,o),oe(Ae,s),oe(zt,r);const _=y(()=>((o==null?void 0:o.published)||e.mock)&&n.bootstrapState===H.Complete&&n.selectedVariant&&n.selectedPurchaseOption),u=y(()=>he()&&n.bootstrapState!==H.Pending);return(m,P)=>(l(),h(I,null,[i(c)?(l(),v(Wn,{key:0})):w("",!0),i(_)?G(m.$slots,"default",{key:1}):w("",!0),i(u)?(l(),v(i(In),{key:2})):w("",!0)],64))}}),Bn={},Un={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"reload-icon"},Dn=d("path",{fill:"currentColor",d:"M13.64 2.35C12.19 0.9 10.2 0 7.99 0C3.57 0 0 3.58 0 8C0 12.42 3.57 16 7.99 16C11.72 16 14.83 13.45 15.72 10H13.64C12.82 12.33 10.6 14 7.99 14C4.68 14 1.99 11.31 1.99 8C1.99 4.69 4.68 2 7.99 2C9.65 2 11.13 2.69 12.21 3.78L8.99 7H15.99V0L13.64 2.35Z"},null,-1),An=[Dn];function qn(t,e){return l(),h("svg",Un,An)}const Gn=S(Bn,[["render",qn]]),Kn={},zn={viewBox:"100 0 270 74",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jn=Se('<path d="M100.034 21.1209H113.048C113.658 21.1209 114.065 21.4598 113.929 22.1376L113.184 26.34C115.759 22.6121 119.487 20.3753 123.283 20.3753C125.181 20.3753 127.214 21.1209 128.299 22.1376C128.909 22.7476 128.909 23.0865 128.502 23.6966L124.707 29.0513C124.232 29.7291 123.893 29.6613 123.148 29.3224C122.402 28.9835 121.453 28.7124 120.436 28.7124C115.895 28.7124 112.099 31.6947 110.337 40.7096L107.693 54.3336C107.49 55.2147 106.812 55.4181 106.473 55.4181H99.5598C99.0175 55.4181 98.543 54.9436 98.6786 54.3336L103.83 28.1701L99.492 22.0698C99.1531 21.5954 99.4242 21.1209 100.034 21.1209Z" fill="currentColor"></path><path d="M124.977 37.9984C126.74 27.3567 134.534 20.3753 144.701 20.3753C155.004 20.3753 159.884 28.5768 158.393 37.5239C158.054 39.8284 157.241 41.6585 155.343 41.6585H133.382C133.585 46.6743 137.042 49.0467 141.651 49.0467C144.701 49.0467 147.548 47.8944 149.717 46.471C150.26 46.0643 150.87 45.861 151.276 46.471L153.784 50.4023C154.191 51.0123 153.987 51.419 153.377 51.9612C150.124 54.9436 144.837 56.2992 140.025 56.2992C129.18 56.2992 123.283 48.3011 124.977 37.9984ZM150.531 35.6938C150.87 30.3391 147.209 28.1023 143.685 28.1023C139.076 28.1023 135.483 31.2203 134.128 35.6938H150.531Z" fill="currentColor"></path><path d="M191.199 54.6045L199.062 14.4782L195.198 9.3268C194.995 8.98789 195.266 8.51343 195.741 8.51343H207.806C208.483 8.51343 208.822 8.92011 208.687 9.53014L205.162 27.221C207.873 23.1541 211.94 20.3751 216.685 20.3751C224.276 20.3751 228.614 26.8821 226.988 34.8802L223.056 54.3334C222.921 55.079 222.311 55.4179 221.836 55.4179H214.719C214.041 55.4179 213.703 55.0112 213.838 54.3334L217.363 36.7781C218.312 32.0334 217.024 29.1188 214.109 29.1188C208.687 29.1188 204.417 35.2191 202.586 43.8273L200.282 54.6045C200.214 55.0112 199.875 55.4179 199.401 55.4179H191.877C191.47 55.4179 191.131 55.0112 191.199 54.6045Z" fill="currentColor"></path><path d="M229.428 38.4051C231.19 27.0856 239.188 20.3753 248.542 20.3753C253.49 20.3753 257.353 22.6121 258.845 26.34L259.658 22.2054C259.794 21.4598 260.336 21.1209 260.946 21.1209H267.521C268.266 21.1209 268.537 21.5954 268.402 22.2054L262.098 54.4014C261.963 55.0114 261.556 55.4181 260.81 55.4181H254.168C253.558 55.4181 253.219 55.0792 253.354 54.4014L253.964 51.0801C250.847 54.6047 246.983 56.367 242.781 56.367C233.223 56.367 227.869 48.4366 229.428 38.4051ZM245.492 48.1655C250.982 48.1655 255.049 43.5564 255.862 38.1339C256.676 32.7114 253.761 28.6446 248.678 28.6446C243.255 28.6446 239.324 33.0503 238.443 38.2017C237.561 43.4208 240.205 48.1655 245.492 48.1655Z" fill="currentColor"></path><path d="M266.369 54.3336L272.74 22.002C272.876 21.4598 273.147 21.1209 273.554 21.1209H280.738C281.349 21.1209 281.755 21.4598 281.62 22.1376L280.874 26.34C283.45 22.6121 287.178 20.3753 290.973 20.3753C292.871 20.3753 294.905 21.1209 295.989 22.1376C296.599 22.7476 296.599 23.0865 296.193 23.6966L292.397 29.0513C291.922 29.7291 291.583 29.6613 290.838 29.3224C290.092 28.9835 289.143 28.7124 288.127 28.7124C283.585 28.7124 279.79 31.6947 278.027 40.7096L275.384 54.3336C275.18 55.2147 274.503 55.4181 274.164 55.4181H267.25C266.708 55.4181 266.233 54.9436 266.369 54.3336Z" fill="currentColor"></path><path d="M290.024 65.2463C289.618 64.9074 289.618 64.3652 289.889 63.8907L293.074 58.8749C293.413 58.3327 293.956 58.1971 294.362 58.536C297.48 60.5016 300.53 61.7217 304.258 61.7217C310.765 61.7217 316.188 59.0783 318.086 50.3345C314.493 53.7236 311.172 55.3503 306.156 55.3503C296.328 55.3503 291.177 47.081 292.803 37.8628C294.633 27.4245 302.428 20.3753 312.257 20.3753C317.679 20.3753 321.407 23.4254 322.559 25.9333L323.373 22.2054C323.508 21.4598 323.983 21.1209 324.525 21.1209H331.167C331.845 21.1209 332.184 21.5276 332.049 22.2054L326.491 50.5378C324.05 62.874 315.51 69.3132 303.919 69.3132C299.039 69.3132 293.549 68.0931 290.024 65.2463ZM308.732 47.4199C314.222 47.4199 318.289 43.0142 319.102 37.795C319.916 32.5759 317.001 28.6446 311.918 28.6446C306.495 28.6446 302.564 32.9148 301.683 37.8628C300.802 42.8786 303.445 47.4199 308.732 47.4199Z" fill="currentColor"></path><path d="M332.32 37.9984C334.082 27.3567 341.877 20.3753 352.044 20.3753C362.347 20.3753 367.227 28.5768 365.736 37.5239C365.397 39.8284 364.584 41.6585 362.686 41.6585H340.725C340.928 46.6743 344.385 49.0467 348.994 49.0467C352.044 49.0467 354.891 47.8944 357.06 46.471C357.602 46.0643 358.212 45.861 358.619 46.471L361.127 50.4023C361.533 51.0123 361.33 51.419 360.72 51.9612C357.467 54.9436 352.18 56.2992 347.367 56.2992C336.522 56.2992 330.625 48.3011 332.32 37.9984ZM357.873 35.6938C358.212 30.3391 354.552 28.1023 351.027 28.1023C346.418 28.1023 342.826 31.2203 341.47 35.6938H357.873Z" fill="currentColor"></path><path d="M176.04 56.367C180.581 56.367 185.054 55.0792 189.121 51.2157C189.731 50.6734 189.799 49.9278 189.392 49.5211L185.664 45.3865C185.326 44.9798 184.783 44.9798 184.309 45.3187C182.75 46.471 180.242 47.8266 177.26 47.8266C171.905 47.8266 168.923 43.6242 169.6 38.3373C170.278 33.1181 174.413 28.9157 179.632 28.9157C182.479 28.9157 184.309 29.9324 186.342 31.9659C186.885 32.5081 187.223 32.5081 187.833 32.0336L192.646 27.899C193.12 27.4923 193.256 27.0178 192.917 26.4756C190.002 22.341 185.461 20.3753 180.445 20.3753C170.346 20.3753 162.144 27.899 160.789 37.8628C159.298 48.7078 166.482 56.367 176.04 56.367Z" fill="currentColor"></path>',8),Qn=[Jn];function Yn(t,e){return l(),h("svg",zn,Qn)}const Xn=S(Kn,[["render",Yn]]),eo=t=>(ye("data-v-e69cc34d"),t=t(),Ce(),t),to={class:"rc-tooltip__content p-3"},no=["innerHTML"],oo=["href"],ro=["href"],so=eo(()=>d("span",{class:"powered-by mr-1"},"Powered by",-1)),io=C({setup(t){const e=O(),n=D(!1),o=D(null),r=D(),s=D(null),c=function(u){(!e.show_poweredby&&!e.show_learnmore||u.shiftKey)&&p(!1)},p=function(u){n.value=typeof u=="boolean"?u:!n.value,n.value?(window.addEventListener("scroll",a),window.addEventListener("resize",a),setTimeout(()=>a())):(window.removeEventListener("scroll",a),window.removeEventListener("resize",a))};async function a(){var f,m;if(!o.value||!r.value)return;const{y:_,placement:u}=await gt(o.value,r.value,{placement:"bottom",middleware:[vt({fallbackPlacements:["bottom","top"]}),bt(8)]});(f=s.value)==null||f.classList.toggle("top",u==="top"),(m=s.value)==null||m.classList.toggle("bottom",u==="bottom"),r.value&&(r.value.style.top=`${_}px`)}return(_,u)=>i(e).show_subscription_details?(l(),h("div",{key:0,class:"rc-subscription-details",onMouseleave:u[5]||(u[5]=f=>p(!1)),onBlur:u[6]||(u[6]=f=>p(!1)),onKeydown:u[7]||(u[7]=ge(f=>c(f),["tab"]))},[d("button",{ref:(f,m)=>{m.toggleRef=f,o.value=f},type:"button",class:"rc-subscription-details__button p-0",onClick:u[0]||(u[0]=f=>p()),onMouseenter:u[1]||(u[1]=f=>p(!0)),onFocus:u[2]||(u[2]=f=>p(!0))},[i(e).show_subscription_details_icon?(l(),v(Gn,{key:0,class:"mr-2"})):w("",!0),d("span",null,k(i(e).subscription_details_verbiage),1)],544),pe(d("div",{ref:(f,m)=>{m.tooltipRef=f,r.value=f},class:"rc-tooltip"},[d("div",to,[d("div",{class:"how-it-works",innerHTML:i(e).how_it_works},null,8,no),i(e).show_learnmore?(l(),h("a",{key:0,class:"learn-more",href:i(e).learnmore_url,rel:"noopener noreferrer",target:"_blank",onKeydown:u[3]||(u[3]=ge(f=>{i(e).show_poweredby||p(!1)},["tab"]))},k(i(e).learnmore_verbiage),41,oo)):w("",!0),i(e).show_poweredby?(l(),h("div",{key:1,class:"rc-tooltip__footer mt-2",onKeydown:u[4]||(u[4]=ge(f=>p(!1),["tab"]))},[d("a",{href:i(e).poweredby_url,target:"_blank",rel:"noopener noreferrer",class:"recharge-badge py-1 px-3"},[so,A(Xn)],8,ro)],32)):w("",!0)]),d("div",{ref:(f,m)=>{m.arrowRef=f,s.value=f},class:"arrow"},null,512)],512),[[mt,n.value]])],32)):w("",!0)}});const ao=S(io,[["__scopeId","data-v-e69cc34d"]]),lo=["for"],co=["id","name","value"],uo={class:"rc-radio__label"},po=C({props:{value:null,modelValue:null,name:null,hideInput:null,label:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=y({get:()=>n.modelValue,set:s=>e("update:modelValue",s)}),r=Re("rc-radio");return(s,c)=>(l(),h("label",{class:q(["rc-radio",{"rc-radio--active":i(o)===n.value}]),for:i(r)},[pe(d("input",{id:i(r),"onUpdate:modelValue":c[0]||(c[0]=p=>T(o)?o.value=p:null),class:q(["rc-radio__input m-0 mr-3",{"rc-radio__input--hidden":n.hideInput}]),type:"radio",name:n.name,value:n.value},null,10,co),[[kt,i(o)]]),d("span",uo,[G(s.$slots,"label",{},()=>[Q(k(t.label),1)],!0)])],10,lo))}});const K=S(po,[["__scopeId","data-v-3d41861e"]]),_o=["for"],ho=["id"],fo=["value"],mo=C({props:{product:null,modelValue:null,hideLabel:null,variantLevelPlans:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=y(()=>`sellingPlan${n.product.external_product_id}`),r=O(),s=y({get:()=>n.modelValue,set:c=>e("update:modelValue",c)});return(c,p)=>t.variantLevelPlans.length>0?(l(),h("label",{key:0,for:i(o),class:"rc-selling-plans-dropdown"},[d("span",{class:q(["rc-selling-plans-dropdown__label pb-1",{"visually-hidden":n.hideLabel}])},k(i(r).delivery_dropdown_label),3),pe(d("select",{id:i(o),"onUpdate:modelValue":p[0]||(p[0]=a=>T(s)?s.value=a:null),class:"rc-selling-plans-dropdown__select",name:"rc_selling_plan"},[(l(!0),h(I,null,_e(t.variantLevelPlans,a=>(l(),h("option",{key:a.external_plan_id,value:a.external_plan_id},k(a.external_plan_name),9,fo))),128))],8,ho),[[wt,i(s)]])],8,_o)):w("",!0)}});const go=S(mo,[["__scopeId","data-v-43993cfe"]]),vo={class:"rc-selling-plans"},bo={key:1,class:"rc-selling-plans-single"},ko=C({props:{hideLabel:null},setup(t){const e=t,n=ee(),o=R(),r=Ke(),s=y(()=>{const a=r.value.length>1,_=o.hasPrepaidPlan;return a&&!_}),c=y(()=>r.value[0]);function p(){var a;n.selectedSellingPlan=(a=c.value)==null?void 0:a.external_plan_id}return He(()=>{(!s.value||!n.selectedSellingPlan||!r.value.find(a=>a.external_plan_id===n.selectedSellingPlan))&&p()}),yt(r,()=>{p()}),Ct(()=>{delete n.selectedSellingPlan}),(a,_)=>(l(),h("div",vo,[i(s)?(l(),v(go,{key:0,modelValue:i(n).selectedSellingPlan,"onUpdate:modelValue":_[0]||(_[0]=u=>i(n).selectedSellingPlan=u),"hide-label":e.hideLabel,product:i(o),"variant-level-plans":i(r)},null,8,["modelValue","hide-label","product","variant-level-plans"])):(l(),h("span",bo,k(i(c).external_plan_name),1))]))}});const Y=S(ko,[["__scopeId","data-v-ac513cdf"]]),wo={class:"rc-template__radio"},yo=["innerHTML"],Co={class:"rc-radio__price"},So=C({setup(t){const e=O(),n=R(),o=xe(),r=fe(),s=Le(),c=me();return(p,a)=>(l(),h("div",wo,[i(n).hasOnetimePlan?(l(!0),h(I,{key:0},_e(i(s),_=>(l(),h(I,null,[_===i(b).Onetime?(l(),v(K,{key:`${_}-onetime`,modelValue:i(r),"onUpdate:modelValue":a[0]||(a[0]=u=>T(r)?r.value=u:null),class:"onetime-radio px-3 py-2",value:i(b).Onetime,label:`${i(e).onetime_message} ${i(o).variantUnitPrice}`,name:"purchaseOption"},null,8,["modelValue","value","label"])):(l(),h(I,{key:1},[A(K,{key:`${_}-sub`,modelValue:i(r),"onUpdate:modelValue":a[1]||(a[1]=u=>T(r)?r.value=u:null),class:"subscription-radio px-3 py-2",value:i(b).Subscription,name:"purchaseOption"},{label:M(()=>[d("span",{class:"rc-radio__subscription",innerHTML:`${i(c)}`},null,8,yo),d("span",Co,k(" ")+k(i(o).discountedPrice),1)]),_:2},1032,["modelValue","value"]),i(r)===i(b).Subscription?(l(),v(i(Y),{key:`${_}-sub`,"hide-label":!0})):w("",!0)],64))],64))),256)):(l(),v(i(Y),{key:1,"hide-label":!0}))]))}});const Ee=S(So,[["__scopeId","data-v-283da5f2"]]),Po={class:"rc-template__radio-group"},Lo={key:0,class:"rc-radio-group__options"},xo={class:"price-label"},$o={class:"discount-label"},Vo={class:"price-label"},Mo=["innerHTML"],Io=C({setup(t){const e=R(),n=O(),o=xe(),r=fe(),s=Le(),c=me();return(p,a)=>(l(),h("div",Po,[i(e).hasOnetimePlan?(l(),h("div",Lo,[(l(!0),h(I,null,_e(i(s),_=>(l(),h(I,null,[_===i(b).Onetime?(l(),v(K,{key:`${_}-onetime`,modelValue:i(r),"onUpdate:modelValue":a[0]||(a[0]=u=>T(r)?r.value=u:null),class:"onetime-radio px-3 py-2",value:i(b).Onetime,name:"purchaseOption"},{label:M(()=>[d("span",xo,k(i(o).variantUnitPrice),1),d("span",$o,k(i(n).onetime_message),1)]),_:2},1032,["modelValue","value"])):(l(),v(K,{key:`${_}-sub`,modelValue:i(r),"onUpdate:modelValue":a[1]||(a[1]=u=>T(r)?r.value=u:null),class:"subscription-radio px-3 py-2",value:i(b).Subscription,name:"purchaseOption"},{label:M(()=>[d("span",Vo,k(i(o).discountedPrice),1),d("span",{class:"discount-label",innerHTML:`${i(c)}`},null,8,Mo)]),_:2},1032,["modelValue","value"]))],64))),256))])):w("",!0),i(r)===i(b).Subscription?(l(),v(i(Y),{key:1})):w("",!0)]))}});const To=S(Io,[["__scopeId","data-v-2f3bc686"]]),Eo=["for"],Oo=["id","name"],jo={class:"rc-checkbox__label"},Ho=C({props:{modelValue:null,name:null,label:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=y({get:()=>n.modelValue,set:s=>e("update:modelValue",s)}),r=Re("rc-checkbox");return(s,c)=>(l(),h("label",{class:"rc-checkbox",for:i(r)},[pe(d("input",{id:i(r),"onUpdate:modelValue":c[0]||(c[0]=p=>T(o)?o.value=p:null),class:"rc-checkbox__input",type:"checkbox",name:n.name},null,8,Oo),[[St,i(o)]]),d("span",jo,[G(s.$slots,"label",{},()=>[Q(k(t.label),1)],!0)])],8,Eo))}});const Ro=S(Ho,[["__scopeId","data-v-278be9c5"]]),Fo={class:"rc-template__checkbox"},Zo=["innerHTML"],Wo={class:"rc-checkbox__descriptor"},No=C({setup(t){const e=R();let n=fe();const o=me(),r=O();let s=y({get:()=>n.value===b.Subscription,set:c=>n.value=c?b.Subscription:b.Onetime});return(c,p)=>(l(),h("div",Fo,[i(e).hasOnetimePlan?(l(),v(Ro,{key:0,modelValue:i(s),"onUpdate:modelValue":p[0]||(p[0]=a=>T(s)?s.value=a:s=a),class:"py-1",name:"purchaseOption"},{label:M(()=>[d("span",{class:"rc-checkbox__subscription",innerHTML:`${i(o)}`},null,8,Zo),d("span",Wo,k(` ${i(r).sub_and_save_ext_label}`),1)]),_:1},8,["modelValue"])):w("",!0),i(s)?(l(),v(i(Y),{key:1})):w("",!0)]))}});const Bo={class:"rc-template__button-group"},Uo={key:0,class:"rc-button-group__options"},Do={class:"discount-label"},Ao={class:"price-label mt-1"},qo=["innerHTML"],Go={class:"price-label mt-1"},Ko=C({setup(t){const e=O(),n=R(),o=xe(),r=fe(),s=Le(),c=me();return(p,a)=>(l(),h("div",Bo,[i(n).hasOnetimePlan?(l(),h("div",Uo,[(l(!0),h(I,null,_e(i(s),_=>(l(),h(I,null,[_===i(b).Onetime?(l(),v(K,{key:`${_}-onetime`,modelValue:i(r),"onUpdate:modelValue":a[0]||(a[0]=u=>T(r)?r.value=u:null),class:"onetime-radio p-2",value:i(b).Onetime,name:"purchaseOption","hide-input":!0},{label:M(()=>[d("div",Do,k(i(e).onetime_message),1),d("div",Ao,k(i(o).variantUnitPrice),1)]),_:2},1032,["modelValue","value"])):(l(),v(K,{key:`${_}-sub`,modelValue:i(r),"onUpdate:modelValue":a[1]||(a[1]=u=>T(r)?r.value=u:null),class:"subscription-radio p-2",value:i(b).Subscription,name:"purchaseOption","hide-input":!0},{label:M(()=>[d("div",{class:"discount-label",innerHTML:`${i(c)}`},null,8,qo),d("div",Go,k(i(o).discountedPrice),1)]),_:2},1032,["modelValue","value"]))],64))),256))])):w("",!0),i(r)===i(b).Subscription?(l(),v(i(Y),{key:1})):w("",!0)]))}});const zo=S(Ko,[["__scopeId","data-v-f1bb5b6a"]]),Jo=C({setup(t){const e=O(),n=R(),o=y(()=>{var s;switch((s=Fe())!=null?s:e.widget_template_type){case"radio":return Ee;case"checkbox":return No;case"button_group":return zo;case"radio_group":return To;default:return Ee}});return(r,s)=>(l(),v(Pt(i(o)),{class:q({"rc-subscription-only":!i(n).hasOnetimePlan})},null,8,["class"]))}}),Qo=C({setup(t){const e=Ke();return(n,o)=>i(e).length?G(n.$slots,"default",{key:0}):w("",!0)}});const Yo={class:"rc-widget"},Xo=C({props:{productId:null,mock:null,state:null,formattedVariantPrices:null},setup(t){const e=t;return(n,o)=>(l(),v(Nn,{"product-id":e.productId,"initial-state":e.state,mock:t.mock,"formatted-variant-prices":e.formattedVariantPrices},{default:M(()=>[A(Qo,null,{default:M(()=>[d("div",Yo,[A(Jo),A(i(ao))])]),_:1})]),_:1},8,["product-id","initial-state","mock","formatted-variant-prices"]))}});const er=S(Xo,[["__scopeId","data-v-ec7f103a"]]);class tr{constructor(e){V(this,"productId");V(this,"config");V(this,"state",{});V(this,"product");V(this,"widgetSettings");V(this,"storeSettings");V(this,"app");if(this.config=e,this.productId=e.productId,this.state.sellingPlan=e.initialSellingPlanId,this.state.variant=e.initialVariantId,!this.productId)throw new Error("A productId is required to use the widget")}setupSyncListeners(){Ne(this.productId,e=>this.state.sellingPlan=e),Be(this.productId,e=>this.state.variant=e),x.addEventListener("widgetSettings:fetched",e=>this.widgetSettings=e),x.addEventListener("storeSettings:fetched",e=>this.storeSettings=e),x.addEventListener(`product:${this.productId}:fetched`,e=>this.product=e)}render(){if(this.app)return this;this.setupSyncListeners();const{initialVariantId:e,initialSellingPlanId:n,element:o,mock:r,formattedVariantPrices:s}=this.config;return this.app=Lt(er,{productId:this.productId,mock:r,formattedVariantPrices:s,state:{variantId:e,sellingPlanId:n}}),this.app.mount(o),Ze(this.app),this}destroy(){this.app&&(this.app.unmount(),delete this.app)}}function nr(t){const e=new tr(t);return e.render(),window.Recharge.widgets[t.productId]=e,e}function Je(){return window.Recharge.widgets?Object.values(window.Recharge.widgets):[]}function Qe(t){return Je().find(e=>e.productId===t)}function Ye(t){window.Recharge={shop:"",widgets:{},init:()=>X("Init not implemented"),...t,eventService:x}}function or(t){xt({storeIdentifier:t,environment:"prod"}),Ye({shop:t}),Et(t),lr()}function rr(t){let e=t,n=0;for(;e.parentElement;){const[o]=Array.from(e.querySelectorAll("form")).filter(Xe);if(o)return o;if(e=e.parentElement,n++,n>=5)break}}function Xe(t){var o;const e=(o=t.getAttribute("action"))==null?void 0:o.includes("/cart/add"),n=!!t.querySelector('button, [type="submit"]');return e&&n}function et(){return Array.from(document.forms).filter(t=>{const e=!!N(t);return Xe(t)&&e})}function sr(t){return et().find(e=>N(e)===t)}function N(t){var e;return Number(new FormData(t).get("id")||((e=t.querySelector('[name="id"]'))==null?void 0:e.value))}function ke(t,e){const n=N(e);return Nt(t,n),W("Variant Changed",n),n}const Oe={};function ir(t,e){let n=N(e);const o=e.querySelector('input[name="id"]');o&&new MutationObserver(()=>{Oe[t]=!0,ke(t,e)}).observe(o,{attributes:!0,childList:!1,attributeFilter:["value"]}),dr(t,e),e.addEventListener("change",()=>{setTimeout(()=>{Oe[t]||N(e)!==n&&(n=ke(t,e),W("Variant Changed",n))})})}function ar(t,e){e.addEventListener("submit",()=>{const n=new FormData(e),o=Qe(t);if(o!=null&&o.state.sellingPlan){const r=o.state.sellingPlan,s=Number(n.get("selling_plan"))||"";if(r!==s){const c={productId:t,variantId:o.state.variant,expectedSellingPlan:r,submittedSellingPlan:s};X("We expected a selling plan to be submitted, but an incorrect one was found. Please double check that nothing is changing the selling_plan.",c),ce("Expected a selling plan to be submitted, but an incorrect one was found",{data:c})}}})}function lr(){try{const t=history.replaceState;history.replaceState=function(e,n,o){var p;const[r="",s]=typeof o=="string"?o.split("?"):[o==null?void 0:o.pathname,o==null?void 0:o.search],c=new URLSearchParams(s);return ae(c,"selling_plan",(p=Je()[0])==null?void 0:p.state.sellingPlan),ae(c,"recharge",he()),ae(c,"rcTemplate",Fe()),t.apply(history,[e,n,$e(r,c)])}}catch{}}function $e(t,e){const n=e.toString();return`${t}${n?`?${n}`:""}`}function ae(t,e,n){return n===void 0||n===""||n===!1||n===null?t.delete(e):t.set(e,String(n)),t}function cr(t,e){const n=ae(new URLSearchParams(window.location.search),t,e),o=$e(window.location.pathname,n);try{window.history.replaceState({path:o},"",o)}catch{X(`The frame has blocked ${t} from being updated in the url.`)}}function dr(t,e){try{const n=history.replaceState;history.replaceState=function(o,r,s){const[c="",p]=typeof s=="string"?s.split("?"):[s==null?void 0:s.pathname,s==null?void 0:s.search],a=new URLSearchParams(p),_=new URLSearchParams(window.location.search);return a.get("variant")!==_.get("variant")&&setTimeout(()=>{var P;const f=(P=Qe(t))==null?void 0:P.state.variant,m=N(e);f!==m&&ke(t,e)}),n.apply(history,[o,r,$e(c,a)])}}catch{}}const ur={887:"Dawn",1434:"Taste",1356:"Sense",1363:"Crave",1368:"Craft",1431:"Studio",1500:"Ride",1499:"Colorblock"};function pr(){var n,o;const t=(n=window.Shopify)==null?void 0:n.theme;if(!t)return;const e=t.theme_store_id;return{id:t.id,themeStoreId:t.theme_store_id,themeName:t.name,baseThemeName:e&&ur[e]||"",isDesignMode:((o=window.Shopify)==null?void 0:o.designMode)||!1}}function se(t){return new DOMParser().parseFromString(t,"text/html").body.textContent||""}const tt=750,de=75;function _r(t,e){const n=document.createElement("input");return n.value=String(e!=null?e:""),n.name="selling_plan",n.type="hidden",t&&Ne(t,o=>{n.value=String(o!=null?o:""),cr("selling_plan",o),W("Selling Plan Changed",o)}),n}async function nt(t,e=0){if(e>=tt)return;const n=sr(t);return n||new Promise(o=>{setTimeout(()=>o(nt(t,e+de)),de)})}async function hr({shop:t,product:e,element:n}){var o,r,s,c,p;try{const a=e.id,{initialVariantId:_,initialSellingPlanId:u,sellingPlanGroups:f,available:m}=e,P=!!(((o=window.Shopify)==null?void 0:o.designMode)||he());if(f.length===0&&!P){W("Product does not have any selling plans",f);return}if(!n){X("No app block element was found. If you expect the widget to show, please check to see if something is removing it.");return}if(!m){W("Product is not available. The widget will not be rendered.");return}or(t.identifier);const F=pr();Ie("designMode",(s=(r=window.Shopify)==null?void 0:r.designMode)!=null?s:!1),F&&(Ht("theme",F),Ie("theme",F.baseThemeName||F.themeName));let g=await nt(_);if(!g){const L=(p=(c=window.meta)==null?void 0:c.product)==null?void 0:p.id;L&&a!==Number(L)?(le("There is a product mismatch on the app block settings. Please use 'dynamic product' to fix this issue."),ce("App block settings product mismatch",{inputs:{shop:t.identifier,initialVariantId:_,productId:a,windowProductId:L}})):a===Number(L)&&(g=rr(n))}if(!g){const L=et(),B=L.map(N);let $="No valid product forms found.";B.includes(_)||($="Initial variant could not be found in any forms"),console.error('[Recharge] Could not infer a product form to dynamically add selling plans. Make sure you have a product form that has the variant associated with it ([name="id"]).',{reason:$,inputs:{productId:a,initialVariantId:_,initialSellingPlanId:u},validProductForms:L,validProductFormVariants:B});return}ar(a,g),W("Product Form",g),ir(a,g);const z=t.defaultCurrency===t.selectedCurrency,j=Object.entries(e.formattedVariantPrices||{}).reduce((L,[B,$])=>{const rt=Object.entries($.formattedSellingPlanPrices||{}).reduce((Ve,[st,U])=>(Ve[st]={unit:se(z?U.unit:U.unitWithCurrency),discounted:se(z?U.discounted:U.discountedWithCurrency),discountType:U.discountType,discountValue:U.discountValue},Ve),{});return L[B]={unit:se(z?$.unit:$.unitWithCurrency),discounted:se(z?$.discounted:$.discountedWithCurrency),formattedSellingPlanPrices:rt},L},{});nr({productId:a,mock:P,initialSellingPlanId:u,initialVariantId:_,element:n,formattedVariantPrices:j}),W("Widget Created",{productId:a,initialSellingPlanId:u,initialVariantId:_});const J=_r(a,u);g.prepend(J)}catch(a){Ot(a)}}Ye({init:hr});async function ot(t=0){if(t>=tt)return Promise.reject();const{onRechargeLoad:e}=window;return e||new Promise(n=>{setTimeout(()=>n(ot(t+de)),de)})}async function fr(){try{(await ot())()}catch{le('"onRechargeLoad" is not defined and required for initializing the widget')}}fr();
